# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –º–æ–¥—É–ª—å random, —á—Ç–æ–±—ã –≤—ã–±–∏—Ä–∞—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –∏–∑ —Å–ø–∏—Å–∫–∞
import random

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: –∏–º—è —Ñ–∞–π–ª–∞, –æ—Ç–∫—É–¥–∞ –±—É–¥–µ–º —á–∏—Ç–∞—Ç—å —Å–ª–æ–≤–∞ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏
WORDS_FILE = "words.txt"

# –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ (—Å—Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–µ–π —É –≤–∏—Å–µ–ª–∏—Ü—ã)
MAX_ATTEMPTS = 6


def load_words():
    """
    –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª words.txt –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏.
    –ö–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç —Å–ø–∏—Å–∫–∞ ‚Äî —ç—Ç–æ –∫–æ—Ä—Ç–µ–∂: ('—Å–ª–æ–≤–æ', '–ø–æ–¥—Å–∫–∞–∑–∫–∞').
    """
    # –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫, –∫—É–¥–∞ –±—É–¥–µ–º —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å —Å–ª–æ–≤–∞
    words = []
    
    # –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª words.txt –¥–ª—è —á—Ç–µ–Ω–∏—è
    try:
        # –û—Ç–∫—Ä—ã–≤–∞–µ–º —Ñ–∞–π–ª —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π UTF-8 (—á—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞–ª–∞ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
        with open(WORDS_FILE, "r", encoding="utf-8") as file:
            # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –≤ —Ñ–∞–π–ª–µ
            for line in file:
                # –£–±–∏—Ä–∞–µ–º –ø—Ä–æ–±–µ–ª—ã –∏ —Å–∏–º–≤–æ–ª—ã –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ —Å—Ç—Ä–æ–∫–∏
                line = line.strip()
                # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ " - "
                if line and " - " in line:
                    # –†–∞–∑–¥–µ–ª—è–µ–º —Å—Ç—Ä–æ–∫—É –Ω–∞ –¥–≤–µ —á–∞—Å—Ç–∏ –ø–æ –ø–µ—Ä–≤–æ–º—É –≤—Ö–æ–∂–¥–µ–Ω–∏—é " - "
                    word, hint = line.split(" - ", 1)
                    # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä—Ç–µ–∂ (—Å–ª–æ–≤–æ, –ø–æ–¥—Å–∫–∞–∑–∫–∞) –≤ —Å–ø–∏—Å–æ–∫, –ø—Ä–∏–≤–æ–¥—è —Å–ª–æ–≤–æ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
                    words.append((word.strip().lower(), hint.strip()))
    # –ï—Å–ª–∏ —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–¥–Ω–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–ª–æ–≤–æ
    except FileNotFoundError:
        print(f"–§–∞–π–ª {WORDS_FILE} –Ω–µ –Ω–∞–π–¥–µ–Ω! –°–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ.")
        return [("—Ç–µ—Å—Ç", "–ø—Ä–∏–º–µ—Ä —Å–ª–æ–≤–∞")]
    
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≥–æ—Ç–æ–≤—ã–π —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤
    return words


def get_random_word():
    """
    –í—ã–±–∏—Ä–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –∏ –µ–≥–æ –ø–æ–¥—Å–∫–∞–∑–∫—É –∏–∑ —Å–ø–∏—Å–∫–∞.
    """
    # –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å–ª–æ–≤, –≤—ã–∑–≤–∞–≤ —Ñ—É–Ω–∫—Ü–∏—é load_words()
    words = load_words()
    # –°–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞–µ–º –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞ (—ç—Ç–æ –∫–æ—Ä—Ç–µ–∂: (—Å–ª–æ–≤–æ, –ø–æ–¥—Å–∫–∞–∑–∫–∞))
    return random.choice(words)


def display_hangman(attempts):
    """
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∏—Å–µ–ª–∏—Ü—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—à–∏–±–æ–∫ (attempts).
    attempts ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 0 –¥–æ 6.
    """
    # –°–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫ –∏–∑ 7 —Ä–∏—Å—É–Ω–∫–æ–≤: –æ—Ç –ø—É—Å—Ç–æ–π –≤–∏—Å–µ–ª–∏—Ü—ã –¥–æ –ø–æ–ª–Ω–æ–π
    stages = [
        """
           --------
           |      |
           |      
           |    
           |      
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |    
           |      
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |      |
           |      
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |     /|
           |      
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |     /|\\
           |      
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |     /|\\
           |     /
           |     
        =========
        """,
        """
           --------
           |      |
           |      O
           |     /|\\
           |     / \\
           |     
        =========
        """
    ]
    # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω—É–∂–Ω—ã–π —Ä–∏—Å—É–Ω–æ–∫. min() –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –≤—ã–π–¥–µ–º –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Å–ø–∏—Å–∫–∞
    return stages[min(attempts, len(stages) - 1)]


def play():
    """
    –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–≥—Ä—ã. –ó–¥–µ—Å—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–µ—Å—å –∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å.
    """
    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –∏–≥—Ä–æ–∫–∞
    print("üéÆ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É '–í–∏—Å–µ–ª–∏—Ü–∞ –Ω–∞ –ø–æ–ª–µ —á—É–¥–µ—Å'!")
    
    # –ü–æ–ª—É—á–∞–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —Å–ª–æ–≤–æ –∏ –ø–æ–¥—Å–∫–∞–∑–∫—É –∫ –Ω–µ–º—É
    secret_word, hint = get_random_word()
    
    # –°–ø–∏—Å–æ–∫ –±—É–∫–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏–≥—Ä–æ–∫ —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª (—á—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å)
    guessed_letters = []
    
    # –°–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–≥–∞–¥–∞–Ω–Ω—ã—Ö –±—É–∫–≤
    correct_letters = []
    
    # –°—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ (–Ω–∞—á–∏–Ω–∞–µ–º —Å 0)
    attempts = 0

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –∏ –æ–±—â–µ–µ –ø—Ä–∞–≤–∏–ª–æ
    print(f"\n–ü–æ–¥—Å–∫–∞–∑–∫–∞: {hint}")
    print("–°–ª–æ–≤–æ –∑–∞–≥–∞–¥–∞–Ω–æ. –£ –≤–∞—Å –µ—Å—Ç—å 6 –ø–æ–ø—ã—Ç–æ–∫!")

    # –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª: –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º, –ø–æ–∫–∞ –æ—à–∏–±–æ–∫ –º–µ–Ω—å—à–µ 6
    while attempts < MAX_ATTEMPTS:
        # –°–æ–±–∏—Ä–∞–µ–º —Å—Ç—Ä–æ–∫—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: –≤–º–µ—Å—Ç–æ –Ω–µ—É–≥–∞–¥–∞–Ω–Ω—ã—Ö –±—É–∫–≤ ‚Äî "_"
        display_word = ""
        # –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –∫–∞–∂–¥–æ–π –±—É–∫–≤–µ –≤ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–º —Å–ª–æ–≤–µ
        for letter in secret_word:
            # –ï—Å–ª–∏ –±—É–∫–≤–∞ —É–∂–µ —É–≥–∞–¥–∞–Ω–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –µ—ë
            if letter in correct_letters:
                display_word += letter + " "
            # –ò–Ω–∞—á–µ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–µ
            else:
                display_word += "_ "
        # –í—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–ª–æ–≤–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: _ _ —Ç _)
        print("\n–°–ª–æ–≤–æ:", display_word.strip())

        # –í—ã–≤–æ–¥–∏–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∏—Å–µ–ª–∏—Ü—ã
        print(display_hangman(attempts))

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —É–≥–∞–¥–∞–Ω–æ –ª–∏ –≤—Å—ë —Å–ª–æ–≤–æ
        # –§—É–Ω–∫—Ü–∏—è all() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç True, –µ—Å–ª–∏ –í–°–ï –±—É–∫–≤—ã —Å–ª–æ–≤–∞ –µ—Å—Ç—å –≤ correct_letters
        if all(letter in correct_letters for letter in secret_word):
            print("\nüéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã —É–≥–∞–¥–∞–ª–∏ —Å–ª–æ–≤–æ:", secret_word)
            # –ó–∞–≤–µ—Ä—à–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é (–∏ –∏–≥—Ä—É)
            return

        # –ü—Ä–æ—Å–∏–º –∏–≥—Ä–æ–∫–∞ –≤–≤–µ—Å—Ç–∏ –±—É–∫–≤—É
        guess = input("–í–≤–µ–¥–∏—Ç–µ –±—É–∫–≤—É: ").strip().lower()

        # –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤–≤–µ–¥–µ–Ω–∞ –ª–∏ —Ä–æ–≤–Ω–æ –æ–¥–Ω–∞ –±—É–∫–≤–∞?
        if len(guess) != 1 or not guess.isalpha():
            print("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –æ–¥–Ω—É –±—É–∫–≤—É!")
            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –æ—Å—Ç–∞–≤—à—É—é—Å—è —á–∞—Å—Ç—å —Ü–∏–∫–ª–∞ –∏ –ø—Ä–æ—Å–∏–º –≤–≤–µ—Å—Ç–∏ —Å–Ω–æ–≤–∞
            continue

        # –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ –≤–≤–æ–¥–∏–ª –ª–∏ –∏–≥—Ä–æ–∫ —ç—Ç—É –±—É–∫–≤—É —Ä–∞–Ω—å—à–µ?
        if guess in guessed_letters:
            print("–í—ã —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª–∏ —ç—Ç—É –±—É–∫–≤—É!")
            continue

        # –î–æ–±–∞–≤–ª—è–µ–º –±—É–∫–≤—É –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–ø—ã—Ç–æ–∫ (–¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è)
        guessed_letters.append(guess)

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —ç—Ç–∞ –±—É–∫–≤–∞ –≤ –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–º —Å–ª–æ–≤–µ
        if guess in secret_word:
            # –ï—Å–ª–∏ –¥–∞ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –±—É–∫–≤
            correct_letters.append(guess)
            print("‚úÖ –í–µ—Ä–Ω–æ!")
        else:
            # –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á—ë—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
            attempts += 1
            print("‚ùå –ù–µ–≤–µ—Ä–Ω–æ!")

    # –ï—Å–ª–∏ —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∏–ª—Å—è (attempts >= 6) ‚Äî –∏–≥—Ä–æ–∫ –ø—Ä–æ–∏–≥—Ä–∞–ª
    print(display_hangman(attempts))
    print("\nüíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏! –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —Å–ª–æ–≤–æ –±—ã–ª–æ:", secret_word)